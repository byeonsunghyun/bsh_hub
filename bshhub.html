<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet" />
  <link rel="icon" type="image/png" sizes="32x32" href="./image/hub_logo.png" />
  <title>SungHyun's Project Hub</title>
  <style>
    :root {
      --bg-color: #f9f9f9;
      --text-color: #222;
      --card-bg: #fff;
    }
    body.dark {
      --bg-color: #121212;
      --text-color: #f0f0f0;
      --card-bg: #1e1e1e;
    }
    * {
      box-sizing: border-box;
      transition: all 0.3s ease;
    }
    html, body {
      height: 100%;
      margin: 0; padding: 0;
    }
    body {
      background: var(--bg-color);
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      font-family: 'Orbitron', sans-serif;
      user-select: none; /* ë“œë˜ê·¸ ì‹œ ì„ íƒ ì•ˆ ë˜ë„ë¡ */
      overflow-x: hidden; /* ìˆ˜í‰ ìŠ¤í¬ë¡¤ ì•ˆ ìƒê¸°ê²Œ */
    }
    header {
      padding: 20px;
      text-align: center;
      position: relative;
      border-bottom: 1px solid #ccc;
    }
    header h1 {
      font-size: 2em;
      margin: 0;
    }
    #darkToggle {
      position: absolute;
      top: 20px;
      right: 20px;
      background: none;
      border: 2px solid var(--text-color);
      color: var(--text-color);
      padding: 6px 12px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.9em;
    }
    main {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      overflow: hidden;
    }
    .slider-wrapper {
      width: 100%;
      max-width: 1120px;
      overflow: hidden;
      cursor: grab;
      user-select: none;
      position: relative;
      padding: 10px 0;
    }
    .slider-container {
      display: grid;
      grid-auto-flow: column;
      grid-template-rows: repeat(2, auto);
      gap: 20px;
      width: max-content;
      transition: none; /* íŠ¸ëœì§€ì…˜ì€ ì§ì ‘ JSì—ì„œ í† ê¸€ */
    }
    a.card {
      background: var(--card-bg);
      border: 1px solid #ccc;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
      width: 280px;
      display: flex;
      flex-direction: column;
      padding: 16px;
      text-align: center;
      text-decoration: none;
      color: inherit;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      user-select: none;
    }
    a.card:hover {
      transform: scale(1.03);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
      cursor: pointer;
    }
    .card img {
      width: 100%;
      height: 160px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 12px;
    }
    .card h2 {
      margin: 10px 0 6px;
      font-size: 1.2em;
    }
    .card p {
      font-size: 0.9em;
      color: var(--text-color);
    }
    footer {
      text-align: center;
      padding: 20px;
      font-size: 0.9em;
      background: transparent;
      color: var(--text-color);
      border-top: 1px solid #ccc;
    }
    @media (max-width: 768px) {
      .slider-container {
        display: flex !important;
        flex-direction: column;
        align-items: center;
        width: 100%;
      }
      a.card {
        width: 90%;
        margin-bottom: 16px;
      }
      .card img {
        height: 160px;
      }
      header h1 {
        font-size: 1.0em;
        margin-top: 6px;
      }
      #darkToggle {
        padding: 6px 12px;
        font-size: 14px;
      }
      .slider-wrapper {
        overflow-x: visible;
        cursor: auto;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1>SungHyun's Project Hub ğŸ”—</h1>
    <button id="darkToggle">ğŸŒ™ ë‹¤í¬ëª¨ë“œ</button>
  </header>

  <main>
    <div class="slider-wrapper" id="slider">
      <div class="slider-container" id="sliderContainer">
        <!-- ì›ë³¸ ì¹´ë“œ -->
        <a class="card" href="https://byeonsunghyun.github.io/bsh_travel/main">
          <img src="./image/travel.jpg" alt="BSH's Travel" />
          <h2>âœˆï¸ BSH's Travel</h2>
          <p>ë‚˜ë§Œì˜ ì—¬í–‰ ê¸°ë¡ì„ ê°„í¸í•˜ê²Œ ë‚¨ê¸°ëŠ” ê³µê°„ì…ë‹ˆë‹¤.</p>
        </a>
        <a class="card" href="https://byeonsunghyun.github.io/bsh_cooking/cooking_main">
          <img src="./image/food.jpg" alt="ë­‰ì¹˜ì˜ ìš”ë¦¬ ë ˆì‹œí”¼" />
          <h2>ğŸ³ ë­‰ì¹˜ì˜ ìš”ë¦¬ ë ˆì‹œí”¼</h2>
          <p>ì‰½ê³  ë§›ìˆëŠ” ìš”ë¦¬ë²•ì„ ëª¨ì€ ë ˆì‹œí”¼ ëª¨ìŒì…ë‹ˆë‹¤.</p>
        </a>
        <a class="card" href="https://byeonsunghyun.github.io/EasyFee_Calc/main">
          <img src="./image/calc.jpg" alt="ìˆ˜ìˆ˜ë£Œ ê³„ì‚°ê¸°" />
          <h2>ğŸ”¢ ìˆ˜ìˆ˜ë£Œ ê³„ì‚°ê¸°</h2>
          <p>ë¹ ë¥´ê³  ì •í™•í•œ ìˆ˜ìˆ˜ë£Œ ê³„ì‚°ê¸°ì…ë‹ˆë‹¤.</p>
        </a>
        <a class="card" href="https://byeonsunghyun.github.io/devtest/devtest">
          <img src="./image/dev.jpg" alt="ê°œë°œ ì—°ìŠµì¥" />
          <h2>ğŸ’» ê°œë°œ ì—°ìŠµì¥</h2>
          <p>ê°„ë‹¨í•œ í”„ë¡œê·¸ë¨ ê°œë°œ ì—°ìŠµ ê³µê°„ì…ë‹ˆë‹¤.</p>
        </a>
      </div>
    </div>
  </main>

  <footer>
    Â© 2025 Byeon Sung Hyun. All rights reserved.
  </footer>

  <script>
    // ë‹¤í¬ëª¨ë“œ ê¸°ëŠ¥
    const toggleBtn = document.getElementById('darkToggle');
    function loadDarkMode() {
      return localStorage.getItem('darkMode') === 'true';
    }
    function saveDarkMode(isDark) {
      localStorage.setItem('darkMode', isDark);
    }
    function applyDarkMode(isDark) {
      document.body.classList.toggle('dark', isDark);
    }
    function updateToggleText() {
      const isDark = document.body.classList.contains('dark');
      toggleBtn.textContent = window.innerWidth <= 600
        ? (isDark ? 'â˜€ï¸' : 'ğŸŒ™')
        : (isDark ? 'â˜€ï¸ ë¼ì´íŠ¸ëª¨ë“œ' : 'ğŸŒ™ ë‹¤í¬ëª¨ë“œ');
    }
    toggleBtn.addEventListener('click', () => {
      const isDark = document.body.classList.toggle('dark');
      saveDarkMode(isDark);
      updateToggleText();
    });
    window.addEventListener('DOMContentLoaded', () => {
      applyDarkMode(loadDarkMode());
      updateToggleText();
    });
    window.addEventListener('resize', updateToggleText);

    // ìŠ¬ë¼ì´ë” ë¬´í•œ ë£¨í”„ ê¸°ëŠ¥
    const sliderWrapper = document.getElementById('slider');
    const sliderContainer = document.getElementById('sliderContainer');

    let isDown = false,
        startX,
        scrollLeft;

    // ì¹´ë“œ ì›ë³¸ ë°°ì—´
    const cards = Array.from(sliderContainer.children).slice(0,4);

    // ì•ë’¤ ì¹´ë“œ ë³µì œ (ë¬´í•œ ë£¨í”„ íš¨ê³¼)
    const cloneCount = cards.length; // ë³µì œí•  ì¹´ë“œ ìˆ˜(ì „ì²´ ì›ë³¸ ë‹¤ ë³µì œ)
    // ì•ì— ë’¤ìª½ ì¹´ë“œë“¤ ë³µì œ
    for(let i = cards.length - cloneCount; i < cards.length; i++) {
      const clone = cards[i].cloneNode(true);
      sliderContainer.insertBefore(clone, sliderContainer.firstChild);
    }
    // ë’¤ì— ì•ìª½ ì¹´ë“œë“¤ ë³µì œ
    for(let i = 0; i < cloneCount; i++) {
      const clone = cards[i].cloneNode(true);
      sliderContainer.appendChild(clone);
    }

    // ë³µì œ í›„ ëª¨ë“  ì¹´ë“œ ë‹¤ì‹œ ì…‹íŒ…
    const allCards = Array.from(sliderContainer.children);

    // ì¹´ë“œ + gap ë„ˆë¹„ ê³„ì‚°
    const cardWidth = cards[0].offsetWidth;
    const gap = 20; // CSS grid gapê³¼ ë™ì¼í•˜ê²Œ í•˜ë“œì½”ë”©

    // ì´ˆê¸° ìœ„ì¹˜: ë³µì œëœ ì•ë¶€ë¶„ ë§Œí¼ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì„¸íŒ…
    const startScroll = (cardWidth + gap) * cloneCount;
    sliderWrapper.scrollLeft = startScroll;

    // íŠ¸ëœì§€ì…˜ ì œì–´ìš© í”Œë˜ê·¸
    let isTransitioning = false;

    // ë“œë˜ê·¸ ì´ë²¤íŠ¸ (ë§ˆìš°ìŠ¤)
    sliderWrapper.addEventListener('mousedown', e => {
      isDown = true;
      sliderWrapper.style.cursor = 'grabbing';
      startX = e.pageX - sliderWrapper.offsetLeft;
      scrollLeft = sliderWrapper.scrollLeft;
    });
    sliderWrapper.addEventListener('mouseleave', e => {
      isDown = false;
      sliderWrapper.style.cursor = 'grab';
    });
    sliderWrapper.addEventListener('mouseup', e => {
      isDown = false;
      sliderWrapper.style.cursor = 'grab';
    });
    sliderWrapper.addEventListener('mousemove', e => {
      if(!isDown) return;
      e.preventDefault();
      const x = e.pageX - sliderWrapper.offsetLeft;
      const walk = (x - startX) * 1.5;
      sliderWrapper.scrollLeft = scrollLeft - walk;
    });

    // ë“œë˜ê·¸ ì´ë²¤íŠ¸ (í„°ì¹˜)
    sliderWrapper.addEventListener('touchstart', e => {
      isDown = true;
      startX = e.touches[0].pageX - sliderWrapper.offsetLeft;
      scrollLeft = sliderWrapper.scrollLeft;
    });
    sliderWrapper.addEventListener('touchend', e => {
      isDown = false;
    });
    sliderWrapper.addEventListener('touchmove', e => {
      if(!isDown) return;
      const x = e.touches[0].pageX - sliderWrapper.offsetLeft;
      const walk = (x - startX) * 1.5;
      sliderWrapper.scrollLeft = scrollLeft - walk;
    });

    // ìë™ ìŠ¬ë¼ì´ë“œ (ë¬´í•œ ë£¨í”„)
    let speed = 0.5; // px per frame
    let rafId;

    function step() {
      if (!isDown) {
        sliderWrapper.scrollLeft += speed;

        // ëì—ì„œ ëìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì—°ê²°
        if (sliderWrapper.scrollLeft >= sliderContainer.scrollWidth - sliderWrapper.clientWidth) {
          // íŠ¸ëœì§€ì…˜ ë„ê³  ì¦‰ì‹œ ìœ„ì¹˜ ì í”„
          isTransitioning = true;
          sliderWrapper.style.scrollBehavior = 'auto';
          sliderWrapper.scrollLeft = startScroll;
          // íŠ¸ëœì§€ì…˜ ë‹¤ì‹œ ì¼œê¸°
          setTimeout(() => {
            sliderWrapper.style.scrollBehavior = 'smooth';
            isTransitioning = false;
          }, 50);
        }
        else if (sliderWrapper.scrollLeft <= 0) {
          isTransitioning = true;
          sliderWrapper.style.scrollBehavior = 'auto';
          sliderWrapper.scrollLeft = sliderContainer.scrollWidth - sliderWrapper.clientWidth - startScroll;
          setTimeout(() => {
            sliderWrapper.style.scrollBehavior = 'smooth';
            isTransitioning = false;
          }, 50);
        }
      }
      rafId = requestAnimationFrame(step);
    }
    rafId = requestAnimationFrame(step);
  </script>
</body>
</html>
