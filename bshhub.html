<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet" />
  <link rel="icon" type="image/png" sizes="32x32" href="./image/hub_logo.png" />
  <title>SungHyun's Project Hub</title>
  <style>
    :root {
      --bg-color: #f9f9f9;
      --text-color: #222;
      --card-bg: #fff;
    }
    body.dark {
      --bg-color: #121212;
      --text-color: #f0f0f0;
      --card-bg: #1e1e1e;
    }
    * {
      box-sizing: border-box;
      transition: all 0.3s ease;
    }
    html, body {
      height: 100%;
      margin: 0; padding: 0;
    }
    body {
      background: var(--bg-color);
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      user-select: none;
      overflow-x: hidden;
    }
    header {
      padding: 20px;
      text-align: center;
      position: relative;
      border-bottom: 1px solid #ccc;
      font-family: 'Orbitron', sans-serif;
    }
    header h1 {
      font-size: 2em;
      margin: 0;
    }
    #darkToggle {
      position: absolute;
      top: 20px;
      right: 20px;
      background: none;
      border: 2px solid var(--text-color);
      color: var(--text-color);
      padding: 6px 12px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.9em;
    }
    main {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      overflow: hidden;
      position: relative;
    }
    /* 데스크톱 무한 슬라이더 */
    .slider-wrapper {
      width: 100%;
      max-width: 1120px;
      overflow: hidden;
      cursor: grab;
      user-select: none;
      position: relative;
      padding: 10px 0;
    }
    .slider-container {
      display: grid;
      grid-auto-flow: column;
      grid-template-rows: repeat(2, auto);
      gap: 20px;
      width: max-content;
      transition: none;
    }
    /* 모바일 단순 스크롤 컨테이너 */
    .slider-wrapper-mobile {
      display: none; /* 기본은 숨김 */
      width: 90%;
      max-height: 100vh;
      overflow-y: auto;
      cursor: auto;
      padding: 10px 0;
      box-sizing: border-box;
    }
    .slider-wrapper-mobile .slider-container-mobile {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    a.card {
      background: var(--card-bg);
      border: 1px solid #ccc;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
      width: 280px;
      display: flex;
      flex-direction: column;
      padding: 16px;
      text-align: center;
      text-decoration: none;
      color: inherit;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      user-select: none;
      position: relative;
      z-index: 0;
      flex-shrink: 0;
    }
    a.card:hover {
      transform: scale(1.03);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
      cursor: pointer;
      z-index: 10;
    }
    .card img {
      width: 100%;
      height: 160px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 12px;
      user-select: none;
      pointer-events: none;
    }
    .card h2 {
      margin: 10px 0 6px;
      font-size: 1.2em;
    }
    .card p {
      font-size: 0.9em;
      color: var(--text-color);
    }
    footer {
      text-align: center;
      padding: 20px;
      font-size: 0.9em;
      background: transparent;
      color: var(--text-color);
      border-top: 1px solid #ccc;
      font-family: 'Orbitron', sans-serif;
    }

    /* 모바일 전용 스타일 */
    @media (max-width: 768px) {
  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden; /* 이중 스크롤 방지 */
  }

  main {
    flex: 1;
    height: calc(100vh - 120px); /* 헤더(약 60px) + 푸터(약 60px) 제외 */
    overflow-y: auto;
    padding: 0;
  }

  .slider-wrapper {
    display: none !important; /* 데스크톱 슬라이더 숨김 */
  }

  .slider-wrapper-mobile {
    display: block !important;
    width: 100vw; /* 너비 100% 채움 */
    height: 100%;
    overflow-y: auto;
    padding: 20px;
    box-sizing: border-box;
  }

  .slider-wrapper-mobile .slider-container-mobile {
    display: flex;
    flex-direction: column;
    gap: 16px;
    width: 100%;
  }

  .slider-wrapper-mobile .slider-container-mobile a.card {
    width: 100% !important;
    margin-bottom: 16px;
  }

  header h1 {
    font-size: 1.0em;
    margin-top: 6px;
  }

  #darkToggle {
    padding: 6px 12px;
    font-size: 12px;
  }
  
  footer {
      font-size: 0.7em;
      padding: 15px;
    }
}

  </style>
</head>
<body>

  <header>
    <h1>SungHyun's Project Hub 🔗</h1>
    <button id="darkToggle">🌙 다크모드</button>
  </header>

  <main>
    <!-- 데스크톱 무한 슬라이더 -->
    <div class="slider-wrapper" id="slider">
      <div class="slider-container" id="sliderContainer">
        <a class="card" href="https://byeonsunghyun.github.io/bsh_travel/main">
          <img src="./image/travel.jpg" alt="BSH's Travel" />
          <h2>BSH's Travel</h2>
          <p>나만의 여행 기록을<br>간편하게 남기는 공간</p>
        </a>
        <a class="card" href="https://byeonsunghyun.github.io/bsh_cooking/cooking_main">
          <img src="./image/food.jpg" alt="뭉치의 요리 레시피" />
          <h2>뭉치의 요리 레시피</h2>
          <p>쉽고 맛있는 요리법을<br>
          모은 레시피 사이트입</p>
        </a>
        <a class="card" href="https://byeonsunghyun.github.io/EasyFee_Calc/main">
          <img src="./image/calc.jpg" alt="수수료 계산기" />
          <h2>수수료 계산기</h2>
          <p>빠르고 정확한 수수료 계산기</p>
        </a>
        <a class="card" href="https://byeonsunghyun.github.io/devtest/devtest">
          <img src="./image/dev.jpg" alt="개발 연습장" />
          <h2>개발 실험실</h2>
          <p>간단한 프로그램 개발 연습 공간</p>
        </a>
        <a class="card" href="https://byeonsunghyun.github.io/bsh_hub/image_compression">
          <img src="./image/dev.jpg" alt="이미지 압축" />
          <h2>이미지 압축</h2>
          <p>이미지를 빠르고 쉽게<br>
          압축할 수 있는 웹 도구</p>
        </a>
      </div>
    </div>

    <!-- 모바일 단순 스크롤 컨테이너 -->
    <div class="slider-wrapper-mobile" id="sliderMobile">
      <div class="slider-container-mobile">
        <a class="card" href="https://byeonsunghyun.github.io/bsh_travel/main">
          <img src="./image/travel.jpg" alt="BSH's Travel" />
          <h2>BSH's Travel</h2>
          <p>나만의 여행 기록을 간편하게 남기는 공간입니다.</p>
        </a>
        <a class="card" href="https://byeonsunghyun.github.io/bsh_cooking/cooking_main">
          <img src="./image/food.jpg" alt="뭉치의 요리 레시피" />
          <h2>뭉치의 요리 레시피</h2>
          <p>쉽고 맛있는 요리법을 모은 레시피 모음입니다.</p>
        </a>
        <a class="card" href="https://byeonsunghyun.github.io/EasyFee_Calc/main">
          <img src="./image/calc.jpg" alt="수수료 계산기" />
          <h2>수수료 계산기</h2>
          <p>빠르고 정확한 수수료 계산기입니다.</p>
        </a>
        <a class="card" href="https://byeonsunghyun.github.io/devtest/devtest">
          <img src="./image/dev.jpg" alt="개발 연습장" />
          <h2>개발 연습장</h2>
          <p>간단한 프로그램 개발 연습 공간입니다.</p>
        </a>
        <a class="card" href="https://byeonsunghyun.github.io/bsh_hub/image_compression">
          <img src="./image/dev.jpg" alt="이미지 압축" />
          <h2>이미지 압축</h2>
          <p>이미지를 빠르고 쉽게 압축할 수 있는 웹 도구</p>
        </a>
      </div>
    </div>
  </main>

  <footer>
    © 2025 Byeon Sung Hyun. All rights reserved.
  </footer>

  <script>
    // 다크모드 기능
    const toggleBtn = document.getElementById('darkToggle');
    function loadDarkMode() {
      return localStorage.getItem('darkMode') === 'true';
    }
    function saveDarkMode(isDark) {
      localStorage.setItem('darkMode', isDark);
    }
    function applyDarkMode(isDark) {
      document.body.classList.toggle('dark', isDark);
    }
    function updateToggleText() {
      const isDark = document.body.classList.contains('dark');
      toggleBtn.textContent = window.innerWidth <= 600
        ? (isDark ? '☀️' : '🌙')
        : (isDark ? '☀️ 라이트모드' : '🌙 다크모드');
    }
    toggleBtn.addEventListener('click', () => {
      const isDark = document.body.classList.toggle('dark');
      saveDarkMode(isDark);
      updateToggleText();
    });
    window.addEventListener('DOMContentLoaded', () => {
      applyDarkMode(loadDarkMode());
      updateToggleText();
      if (window.innerWidth > 768) {
        rafId = requestAnimationFrame(step);
      }
    });
    window.addEventListener('resize', updateToggleText);

    // 슬라이더 무한 루프 기능 (데스크톱 전용)
    const sliderWrapper = document.getElementById('slider');
    const sliderContainer = document.getElementById('sliderContainer');

    let isDown = false,
        startX,
        scrollLeft,
        rafId;

    if (window.innerWidth > 768) {
      const originalCards = Array.from(sliderContainer.children);
      const repeatCount = 200;  // 200번 반복

      // 200번 반복 복제해서 끝에 붙임
      for(let i = 0; i < repeatCount; i++) {
        originalCards.forEach(card => {
          const clone = card.cloneNode(true);
          sliderContainer.appendChild(clone);
        });
      }

      // 초기 스크롤 위치 0
      sliderWrapper.scrollLeft = 0;

      // 마우스 드래그 이벤트
      sliderWrapper.addEventListener('mousedown', e => {
        isDown = true;
        sliderWrapper.style.cursor = 'grabbing';
        startX = e.pageX - sliderWrapper.offsetLeft;
        scrollLeft = sliderWrapper.scrollLeft;
      });
      sliderWrapper.addEventListener('mouseleave', e => {
        isDown = false;
        sliderWrapper.style.cursor = 'grab';
      });
      sliderWrapper.addEventListener('mouseup', e => {
        isDown = false;
        sliderWrapper.style.cursor = 'grab';
      });
      sliderWrapper.addEventListener('mousemove', e => {
        if(!isDown) return;
        e.preventDefault();
        const x = e.pageX - sliderWrapper.offsetLeft;
        const walk = (x - startX) * 1.5;
        sliderWrapper.scrollLeft = scrollLeft - walk;
      });

      // 터치 드래그 이벤트
      sliderWrapper.addEventListener('touchstart', e => {
        isDown = true;
        startX = e.touches[0].pageX - sliderWrapper.offsetLeft;
        scrollLeft = sliderWrapper.scrollLeft;
      });
      sliderWrapper.addEventListener('touchend', e => {
        isDown = false;
      });
      sliderWrapper.addEventListener('touchmove', e => {
        if(!isDown) return;
        const x = e.touches[0].pageX - sliderWrapper.offsetLeft;
        const walk = (x - startX) * 1.5;
        sliderWrapper.scrollLeft = scrollLeft - walk;
      });

      // 자동 슬라이드 & 무한 루프 점프
      let speed = 0.5;

      function step() {
        if (!isDown) {
          sliderWrapper.scrollLeft += speed;

          if (sliderWrapper.scrollLeft >= sliderContainer.scrollWidth - sliderWrapper.clientWidth - 1) {
            sliderWrapper.style.scrollBehavior = 'auto';
            sliderWrapper.scrollLeft = 0;
            requestAnimationFrame(() => {
              sliderWrapper.style.scrollBehavior = '';
            });
          }
        }
        rafId = requestAnimationFrame(step);
      }
    }
  </script>
</body>
</html>
